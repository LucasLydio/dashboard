<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard — Estrutura</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
 <link rel="stylesheet" href="css/style.css">
 <link rel="stylesheet" href="css/menu.css">
 <link rel="stylesheet" href="css/chart.css">
</head>
<body>


<div class="side-menu d-flex flex-column align-items-start">
  <button class="btn exit" id="close-side-menu"><i class="bi bi-x"></i></button>
  <div class="w-100 side-menu-container">
    <!-- Topo: Logo/Nome -->
    <div class="w-100 d-flex flex-column align-items-center justify-content-center my-4 gap-0">
      <h6 class="d-flex">MindWay Dashboard</h6>
      <hr class="w-75">
    </div>
    <!-- Navegação -->
    <ul class="nav flex-column w-100 px-2">
      <li class="nav-item"><a class="nav-link active" href="#overview"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
      <li class="nav-item"><a class="nav-link" href="#data-users"><i class="bi bi-people"></i> Usuários</a></li>
      <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-chat-dots"></i> Mensagens</a></li>
      <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-bar-chart"></i> Relatórios</a></li>
      <hr class="my-2">
      <!-- <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-person-circle"></i> Perfil</a></li>
      <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-box-arrow-right"></i> Sair</a></li> -->
    </ul>
    <!-- Footer -->
    <div class="position-relative w-100 mt-auto">
      <div class="container text-center small-muted bottom-0 position-absolute mb-2">
        © <span id="year"></span> MindWay <br> Dashboard estrutural
      </div>
    </div>
  </div>
</div>


  <!-- Topbar -->
  <header class="topbar py-3 mb-4">
    <div class="container d-flex align-items-end justify-content-between">
      <div>
          <i class="bi bi-list fs-4" id="open-side-menu"></i>
      </div>
      <div class="title d-flex justify-content-center gap-3">
        <h6 class="brand fs-6">MindWay Dashboard</h6>
        <h6 class="small-muted">Visão geral • Monitoramento</h6>
      </div>

      <div class="d-flex align-items-center gap-3">
        <!-- <span class="small-muted">Usuário: <strong>Lucas</strong></span>
        <button class="btn btn-outline-secondary btn-sm">Perfil</button> -->
      </div>
    </div>
  </header>
  <div class="position-absolute top-0" id="overview"></div>
  <main class="container" id="overview">

    <!-- ========================
          SEÇÃO 1 — OVERVIEW (CARDS)
         ======================== -->
    <section class="mb-5" >
      <div class="d-flex align-items-center justify-content-between mb-3">
        <div >
          <h2 class="h5 section-title">Overview</h2>
          <div class="muted-desc">Resumo rápido das métricas principais</div>
        </div>
        <div class="d-flex align-items-center gap-2">
          <span class="stat-badge">Atualizado agora</span>
        </div>
      </div>

      <div class="row g-3">
        <!-- Usuários -->
        <div class="col-12 col-sm-6 col-lg-3">
          <div class="card stat-card p-3">
            <div class="d-flex align-items-center justify-content-between">
              <div>
                <div class="stat-label">Usuários</div>
                <div class="stat-value" id="users-count">--</div>
                <div class="small-muted">Total de usuários cadastrados</div>
              </div>
              <div class="text-end">
                <div style="width:48px;height:48px;border-radius:10px;background:linear-gradient(180deg,var(--primary-color), rgba(0,108,112,0.85)); display:flex; align-items:center; justify-content:center; color:white; font-weight:700;">
                  U
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Sessões ativas -->
        <div class="col-12 col-sm-6 col-lg-3">
          <div class="card stat-card p-3">
            <div class="d-flex align-items-center justify-content-between">
              <div>
                <div class="stat-label">Sessões Ativas</div>
                <div class="stat-value" id="active-sessions">--</div>
                <div class="small-muted">Conexões simultâneas</div>
              </div>
              <div class="text-end">
                <div style="width:48px;height:48px;border-radius:10px;background:linear-gradient(180deg,var(--secondary-color), rgba(244,179,19,0.85)); display:flex; align-items:center; justify-content:center; color:#111; font-weight:700;">
                  S
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Mensagens enviadas com sucesso -->
        <div class="col-12 col-sm-6 col-lg-3">
          <div class="card stat-card p-3">
            <div class="d-flex align-items-center justify-content-between">
              <div>
                <div class="stat-label">Mensagens (sucesso)</div>
                <div class="stat-value" id="messages-success">--</div>
                <div class="small-muted">Total de mensagens entregues</div>
              </div>
              <div class="text-end">
                <div style="width:48px;height:48px;border-radius:10px;background:#e8f7f6; display:flex; align-items:center; justify-content:center; color:var(--primary-color); font-weight:700;">
                  M
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tempo de resposta -->
        <div class="col-12 col-sm-6 col-lg-3">
          <div class="card stat-card p-3">
            <div class="d-flex align-items-center justify-content-between">
              <div>
                <div ></div>
                <div class="stat-label">Redes de Apoio</div>
                <div class="stat-value" id="social-network">--</div>
                <div class="small-muted" id="data-users">Total de redes de apoio</div>
              </div>
              <div class="text-end">
                <div style="width:48px;height:48px;border-radius:10px;background:#fff3cd; display:flex; align-items:center; justify-content:center; color:#8a6d00; font-weight:700;">
                  <i class="bi bi-people-fill"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section >

    <section class="mb-5">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <div >
          <h3 class="h6 section-title">Dados de Usuários</h3>
          <div class="muted-desc mb-2">Gráficos e Informações dos Usuários</div>
        </div>
      </div>
      <div class="chart-container d-flex gap-4">
        <div class="">
          <div class="muted-desc mb-2">Perfil dos Usuários Ativos</div>
          <div class="card card-chart p-3">
            <div class="chart d-flex flex-column gap-2">
              <div id="no-sessions" class="d-none text-center small-muted py-3">
                Nenhum usuário registrado
              </div>
              <canvas id="users-profile-chart" ></canvas>
            </div>
          </div>
        </div>
        <div class="">
          <div class="muted-desc mb-2">Usuários por Estado</div>
          <div class="card card-chart p-3">
            <div class="chart d-flex flex-column gap-2">
              <div id="no-sessions" class="d-none text-center small-muted py-3">
                Nenhum usuário registrado
              </div>
              <canvas id="states-chart" height="300"></canvas>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ========================
          SEÇÃO 2 — SESSÕES ATIVAS
         ======================== -->
    <section class="mb-5">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <div>
          <h3 class="h6 section-title">Sessões Ativas</h3>
          <div class="muted-desc">Snapshots das sessões que estão ativas agora</div>
        </div>
        <div class="small-muted">Mostrando 10</div>
      </div>

      <div class="row">
        <div class="col-12 col-lg-6">
          <div class="card p-3">
            <div class="d-flex flex-column gap-2">
              <!-- Exemplo de item; duplique dinamicamente -->
              <div class="session-item">
                <div>
                  <div><strong>usuário_123</strong></div>
                  <div class="small-muted">Iniciado há 2m • IP: 192.168.0.12</div>
                </div>
                <div class="text-end">
                  <div class="small-muted">Última atividade: 10s</div>
                  <div class="badge bg-success">Ativo</div>
                </div>
              </div>

              <div class="session-item">
                <div>
                  <div><strong>maria.s</strong></div>
                  <div class="small-muted">Iniciado há 5m • IP: 192.168.0.20</div>
                </div>
                <div class="text-end">
                  <div class="small-muted">Última atividade: 34s</div>
                  <div class="badge bg-success">Ativo</div>
                </div>
              </div>

              <!-- placeholder para quando não houver sessões -->
              <div id="no-sessions" class="d-none text-center small-muted py-3">Nenhuma sessão ativa registrada</div>
            </div>
          </div>
        </div>

        <!-- espaço para gráficos/resumo -->
        <div class="col-12 col-lg-6 mt-3 mt-lg-0">
          <div class="card p-3">
            <div class="section-title">Resumo</div>
            <div class="small-muted">Algumas métricas rápidas sobre as sessões</div>
            <div class="row mt-3 g-2">
              <div class="col-6">
                <div class="p-2 bg-white rounded-3 text-center">
                  <div class="small-muted">Novas (24h)</div>
                  <div class="h5 mt-1">12</div>
                </div>
              </div>
              <div class="col-6">
                <div class="p-2 bg-white rounded-3 text-center">
                  <div class="small-muted">Encerradas (24h)</div>
                  <div class="h5 mt-1">3</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div> <!-- .row -->
    </section>

    <!-- ========================
          SEÇÃO 3 — Terapeutas / DETALHES
         ======================== -->
    <section class="mb-5">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <div>
          <h3 class="h6 section-title">Terapeutas</h3>
          <div class="muted-desc">Terapeutas ativos no sistema mindway</div>
        </div>
      </div>
      <div class="row" id="therapists-list">
        <!-- Os cards serão inseridos aqui pelo JS -->
      </div>
    </section>

  </main>

  <!-- Footer simples -->
  <footer class="mt-5 py-4">
    <div class="container text-center small-muted">
      © <span id="year"></span> MindWay — Dashboard estrutural
    </div>
  </footer>

  <!-- pequeno script para ano (pode remover se quiser só HTML/CSS) -->
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/setUser.js"></script>
    <script src="js/setSocial.js"></script>
    <script src="js/actions.js"></script>
    <script src="js/setChart.js"></script>
    <script src="js/setMessages.js"></script>
    <script src="js/setChartAddress.js"></script>
    <script src="js/setTherapist.js"></script>

</body>
</html>
